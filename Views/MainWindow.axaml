<Window
    x:Class="mProjectLayout.Views.MainWindow"
    x:DataType="vm:MainWindowViewModel"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:mProjectLayout.ViewModels"
    mc:Ignorable="d"
    Width="700"
    Height="500"
    Title="mProjectLayout">

    <Window.Styles>
        <!-- Compact padding overrides -->
        <Style Selector="TextBox">
            <Setter Property="Padding" Value="4,3"/>
        </Style>

        <Style Selector="Button">
            <Setter Property="Padding" Value="6,3"/>
        </Style>
    </Window.Styles>

    <Window.DataContext>
        <vm:MainWindowViewModel/>
    </Window.DataContext>

    <DockPanel>

        <!-- Status Bar -->
        <Border DockPanel.Dock="Bottom" Background="#333" Padding="6">
            <TextBlock Text="{Binding StatusText}" Foreground="White"/>
        </Border>

        <!-- Main Layout Grid -->
        <Grid Margin="12"
              RowDefinitions="Auto,Auto,Auto,Auto,Auto,*"
              RowSpacing="12">

            <!-- Directory Picker -->
            <Grid Grid.Row="0" ColumnDefinitions="100,*,30" ColumnSpacing="8">

                <Button Grid.Column="0"
                        Content="Browse"
                        Command="{Binding BrowseCommand}"
                        Width="100"/>

                <TextBox Grid.Column="1"
                         Text="{Binding SelectedDirectory}"
                         IsReadOnly="True"
                         HorizontalAlignment="Stretch"/>

                <Button Grid.Column="2"
                        Content="?"
                        Command="{Binding ShowHelpCommand}"
                        Width="30"
                        Height="28"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"/>
            </Grid>

            <!-- Paste Area -->
            <StackPanel Grid.Row="1" Spacing="4">
                <TextBlock Text="Paste Folder Structure:"/>
                <TextBox Text="{Binding StructureText}"
                         AcceptsReturn="True"
                         Height="150"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"/>
            </StackPanel>

            <!-- Generate Button -->
            <Button Grid.Row="2"
                    Content="Generate Project Skeleton"
                    Command="{Binding GenerateCommand}"
                    HorizontalAlignment="Right"
                    Width="220"/>

            <!-- Separator Line -->
            <Border Grid.Row="3"
                    Height="1"
                    Background="#444"/>

            <!-- Log Label -->
            <TextBlock Grid.Row="4" Text="Log:"/>

            <!-- Log Panel (softened background) -->
            <Border Grid.Row="5"
                    Background="#1A1A1A"
                    CornerRadius="4"
                    Padding="8">

                <TextBox Text="{Binding LogText}"
                         AcceptsReturn="True"
                         IsReadOnly="True"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Stretch"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"/>
            </Border>

        </Grid>

    </DockPanel>
</Window>